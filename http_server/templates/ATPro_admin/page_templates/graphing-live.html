<div class="row">
    <div class="col-6 col-m-12 col-sm-12">
        <div class="card">
            <div class="card-content">
                <form class="pure-form" method="POST" action="/atpro/sensor-graphing-live">
                    <h2><i class="fas fa-chart-line"></i> Live Graphing</h2>

                    <button type="button" class="pure-button" id="lga-button" onclick="ShowHideLGA_Adv()">
                        Show Advanced Settings
                    </button>

                    <br>

                    <div id="lga-settings-content"><br>
                        <label style="font-size: medium;">Sensor Address (Blank for local sensor)<br>
                            <span style="font-size: small;">Ex. 192.168.0.5 or sensor.mydomain.net<br>
                            Optional: Specify port -> sensor.mydomain.net:10065</span>
                            <br><br>
                            <div style="display: table; margin-left: auto; margin-right: auto;">
                                <div style="display: table-row;">
                                    <div style="display: table-cell;">
                                        <input style="width: 325px;" type="text" name="graph_sensor_address"
                                               value="{{ GraphSensorAddress }}">
                                    </div>
                                </div>
                            </div>
                        </label>

                        <br>

                        <p>
                            <span style="color: orange;">Warning</span><br>
                            If you disable SSL verification, performance will be greatly degraded
                            but it is required for Self Signed Certificates and direct IP access
                        </p>

                        <br>

                        <div class="row">
                            <div class="col-6 col-m-6 col-sm-12">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="disable-ssl-toggle-switch" class="toggle-switch-input"
                                           name="enable_ssl_verification" {{ CheckedEnableSSLVerification }}>
                                    <label class="toggle-switch-label" for="disable-ssl-toggle-switch"></label>
                                    SSL Verification
                                </label>
                            </div>

                            <div class="col-6 col-m-6 col-sm-12">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="performance-toggle-switch" class="toggle-switch-input"
                                           name="enable_performance_mode" {{ CheckedEnablePerformanceMode }}>
                                    <label class="toggle-switch-label" for="performance-toggle-switch"></label>
                                    Performance Mode
                                </label>
                            </div>

                            <div class="col-4 col-m-4 col-sm-12">
                                <label>Sensors per<br>Row<br><br>
                                    <select name="graphs_per_line">
                                        <option value="graphs_per_line_1" {{ CheckedGPL1 }}>1</option>
                                        <option value="graphs_per_line_2" {{ CheckedGPL2 }}>2</option>
                                        <option value="graphs_per_line_3" {{ CheckedGPL3 }}>3</option>
                                        <option value="graphs_per_line_4" {{ CheckedGPL4 }}>4</option>
                                    </select>
                                </label>
                            </div>

                            <div class="col-4 col-m-4 col-sm-12">
                                <label style="font-size: medium;">Max Data Points<br>Per Graph<br><br>
                                    <div style="display: table; margin-left: auto; margin-right: auto;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell;">
                                                <input style="width: 75px;" type="number" min="5" name="graph_max_data_points"
                                                       value="{{ GraphMaxDataPoints }}" required>
                                            </div>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="col-4 col-m-4 col-sm-12">
                                <label style="font-size: medium;">Update Interval<br>Seconds<br><br>
                                    <div style="display: table; margin-left: auto; margin-right: auto;">
                                        <div style="display: table-row;">
                                            <div style="display: table-cell;">
                                                <input style="width: 75px;" type="number" min="1" name="graph_update_interval"
                                                       value="{{ GraphIntervalValue }}" required>
                                            </div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <br><hr><br>

                    <label class="toggle-switch">
                        <input type="checkbox" id="select-all-checkboxes" class="toggle-switch-input"
                               onclick="select_all_sensor_checkboxes()">
                        <label class="toggle-switch-label" for="select-all-checkboxes"></label>
                        Select All
                    </label>

                    <br>

                    <div id="sensor-checkboxes">
                        <label class="toggle-switch">
                            <input type="checkbox" id="uptime-toggle" class="toggle-switch-input"
                                   name="sensor_uptime" {{ CheckedSensorUptime }}>
                            <label class="toggle-switch-label" for="uptime-toggle"></label>
                            Sensor Uptime
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="cpu-temp-toggle" class="toggle-switch-input"
                                   name="cpu_temperature" {{ CheckedCPUTemperature }}>
                            <label class="toggle-switch-label" for="cpu-temp-toggle"></label>
                            CPU Temperature
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="env-temp-toggle" class="toggle-switch-input"
                                   name="env_temperature" {{ CheckedEnvTemperature }}>
                            <label class="toggle-switch-label" for="env-temp-toggle"></label>
                            Env Temperature
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="pressure-toggle" class="toggle-switch-input"
                                   name="pressure" {{ CheckedPressure }}>
                            <label class="toggle-switch-label" for="pressure-toggle"></label>
                            Pressure
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="altitude-toggle" class="toggle-switch-input"
                                   name="altitude" {{ CheckedAltitude }}>
                            <label class="toggle-switch-label" for="altitude-toggle"></label>
                            Altitude
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="humidity-toggle" class="toggle-switch-input"
                                   name="humidity" {{ CheckedHumidity }}>
                            <label class="toggle-switch-label" for="humidity-toggle"></label>
                            Humidity
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="dew-point-toggle" class="toggle-switch-input"
                                   name="dew_point" {{ CheckedDewPoint }}>
                            <label class="toggle-switch-label" for="dew-point-toggle"></label>
                            Dew Point
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="distance-toggle" class="toggle-switch-input"
                                   name="distance" {{ CheckedDistance }}>
                            <label class="toggle-switch-label" for="distance-toggle"></label>
                            Distance
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="gas-toggle" class="toggle-switch-input"
                                   name="gas" {{ CheckedGas }}>
                            <label class="toggle-switch-label" for="gas-toggle"></label>
                            Gas
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="pm-toggle" class="toggle-switch-input"
                                   name="particulate_matter" {{ CheckedPM }}>
                            <label class="toggle-switch-label" for="pm-toggle"></label>
                            Particulate Matter
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="lumen-toggle" class="toggle-switch-input"
                                   name="lumen" {{ CheckedLumen }}>
                            <label class="toggle-switch-label" for="lumen-toggle"></label>
                            Lumen
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="colour-toggle" class="toggle-switch-input"
                                   name="colour" {{ CheckedColour }}>
                            <label class="toggle-switch-label" for="colour-toggle"></label>
                            Colour
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="uv-toggle" class="toggle-switch-input"
                                   name="ultra_violet" {{ CheckedUltraViolet }}>
                            <label class="toggle-switch-label" for="uv-toggle"></label>
                            Ultra Violet
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="acc-toggle" class="toggle-switch-input"
                                   name="accelerometer" {{ CheckedAccelerometer }}>
                            <label class="toggle-switch-label" for="acc-toggle"></label>
                            Accelerometer
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="mag-toggle" class="toggle-switch-input"
                                   name="magnetometer" {{ CheckedMagnetometer }}>
                            <label class="toggle-switch-label" for="mag-toggle"></label>
                            Magnetometer
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="gyroscope-toggle" class="toggle-switch-input"
                                   name="gyroscope" {{ CheckedGyroscope }}>
                            <label class="toggle-switch-label" for="gyroscope-toggle"></label>
                            Gyroscope
                        </label>
                    </div>

                    <br><br>

                    <button type="submit" class="pure-button">Save Settings</button>

                    &nbsp;&nbsp;&nbsp;

                    <button class="pure-button" onclick="window.open('/LiveGraphView', '_blank',
                    'location=yes,scrollbars=yes,status=yes')">
                        Open Graph Window
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function ShowHideLGA_Adv() {
        if (document.getElementById("lga-settings-content").style.display === "none") {
            document.getElementById("lga-settings-content").style.display = "inline-block";
            document.getElementById("lga-button").textContent = "Hide Advanced Settings";
        } else {
            document.getElementById("lga-settings-content").style.display = "none";
            document.getElementById("lga-button").textContent = "Show Advanced Settings";
        }
    }
    ShowHideLGA_Adv();
    CheckNotificationsAsync();
</script>
