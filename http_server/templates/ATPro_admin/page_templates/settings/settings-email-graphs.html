<div class="row">
    <div class="col-6 col-m-12 col-sm-12">
        <div class="card">
            <div class="card-content">
                <form class="pure-form" method="POST" action="/atpro/settings-email-graphs">
                    <h2><i class="far fa-envelope"></i> Email Graphs</h2>

                    <label class="toggle-switch">
                        <input type="checkbox" id="enable-graph-toggle-switch" class="toggle-switch-input"
                               name="email_graphs" {{ CheckedEmailGraphs }}>
                        <label class="toggle-switch-label" for="enable-graph-toggle-switch"></label>
                        Enable Graph Emails
                    </label>

                    <br><br>

                    <label>Send Email<br>
                        <select name="email_graph_send_interval">
                            <option value="daily" {{ EmailGraphSelectedDaily }}>Daily</option>
                            <option value="weekly" {{ EmailGraphSelectedWeekly }}>Weekly</option>
                            <option value="monthly" {{ EmailGraphSelectedMonthly }}>Monthly</option>
                            <option value="yearly" {{ EmailGraphSelectedYearly }}>Yearly</option>
                        </select>
                    </label>

                    <br><br>

                    <label>
                        <div style="display: table; margin-left: auto; margin-right: auto;">
                            <div style="display: table-row;">
                                <div style="display: table-cell;">
                                    <input type="time" name="send_email_graph_at_time" placeholder="24" min="1"
                                           value="{{ EmailGraphAtHourMin }}" required>
                                </div>
                            </div>
                        </div>
                    </label>

                    <br><br>

                    <label>Email Reports to<br>Use CSV Eg. email1@here.com,email2@there.com<br>
                        <textarea id="email-addresses-textarea" name="send_graphs_to_email_address"
                                  style="width: 400px; height: 200px;">{{ EmailGraphsToCSVAddresses }}</textarea>
                    </label>

                    <br><br>

                    <h3><strong>Graph Settings</strong></h3>

                    <label>Graph Type
                        <label>
                            <input type="radio" name="graph_type" value="QuickGraphs" {{ QuickGraphChecked }}>
                            Quick Graphs
                        </label>
                        <label>
                            <input type="radio" name="graph_type" value="PlotlyGraphs" {{ PlotlyGraphChecked }}
                                   disabled>
                            Plotly Graphs
                        </label>
                    </label>

                    <br><br><br>

                    <label>Graph the past X hours<br>
                        <div style="display: table; margin-left: auto; margin-right: auto;">
                            <div style="display: table-row;">
                                <div style="display: table-cell;">
                                    <input style="width: 100px;" type="number" name="graph_past_hours" placeholder="24" min="1"
                                           value="{{ GraphsPastHours }}" required>
                                </div>
                            </div>
                        </div>
                    </label>

                    <br><br>

                    <label class="toggle-switch">
                        <input type="checkbox" id="select-all-checkboxes" class="toggle-switch-input">
                        <label class="toggle-switch-label" for="select-all-checkboxes"></label>
                        Select All
                    </label>

                    <br>

                    <div id="sensor-checkboxes">
                        <label class="toggle-switch">
                            <input type="checkbox" id="uptime-toggle" class="toggle-switch-input"
                                   name="sensor_uptime" {{ CheckedSensorUptime }}>
                            <label class="toggle-switch-label" for="uptime-toggle"></label>
                            Sensor Uptime
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="cpu-temp-toggle" class="toggle-switch-input"
                                   name="cpu_temperature" {{ CheckedCPUTemperature }}>
                            <label class="toggle-switch-label" for="cpu-temp-toggle"></label>
                            CPU Temperature
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="env-temp-toggle" class="toggle-switch-input"
                                   name="env_temperature" {{ CheckedEnvTemperature }}>
                            <label class="toggle-switch-label" for="env-temp-toggle"></label>
                            Env Temperature
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="pressure-toggle" class="toggle-switch-input"
                                   name="pressure" {{ CheckedPressure }}>
                            <label class="toggle-switch-label" for="pressure-toggle"></label>
                            Pressure
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="altitude-toggle" class="toggle-switch-input"
                                   name="altitude" {{ CheckedAltitude }}>
                            <label class="toggle-switch-label" for="altitude-toggle"></label>
                            Altitude
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="humidity-toggle" class="toggle-switch-input"
                                   name="humidity" {{ CheckedHumidity }}>
                            <label class="toggle-switch-label" for="humidity-toggle"></label>
                            Humidity
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="dew-point-toggle" class="toggle-switch-input"
                                   name="dew_point" {{ CheckedDewPoint }}>
                            <label class="toggle-switch-label" for="dew-point-toggle"></label>
                            Dew Point
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="distance-toggle" class="toggle-switch-input"
                                   name="distance" {{ CheckedDistance }}>
                            <label class="toggle-switch-label" for="distance-toggle"></label>
                            Distance
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="gas-toggle" class="toggle-switch-input"
                                   name="gas" {{ CheckedGas }}>
                            <label class="toggle-switch-label" for="gas-toggle"></label>
                            Gas
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="pm-toggle" class="toggle-switch-input"
                                   name="particulate_matter" {{ CheckedPM }}>
                            <label class="toggle-switch-label" for="pm-toggle"></label>
                            Particulate Matter
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="lumen-toggle" class="toggle-switch-input"
                                   name="lumen" {{ CheckedLumen }}>
                            <label class="toggle-switch-label" for="lumen-toggle"></label>
                            Lumen
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="colour-toggle" class="toggle-switch-input"
                                   name="colour" {{ CheckedColour }}>
                            <label class="toggle-switch-label" for="colour-toggle"></label>
                            Colour
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="uv-toggle" class="toggle-switch-input"
                                   name="ultra_violet" {{ CheckedUltraViolet }}>
                            <label class="toggle-switch-label" for="uv-toggle"></label>
                            Ultra Violet
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="acc-toggle" class="toggle-switch-input"
                                   name="accelerometer" {{ CheckedAccelerometer }}>
                            <label class="toggle-switch-label" for="acc-toggle"></label>
                            Accelerometer
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="mag-toggle" class="toggle-switch-input"
                                   name="magnetometer" {{ CheckedMagnetometer }}>
                            <label class="toggle-switch-label" for="mag-toggle"></label>
                            Magnetometer
                        </label>

                        <label class="toggle-switch">
                            <input type="checkbox" id="gyroscope-toggle" class="toggle-switch-input"
                                   name="gyroscope" {{ CheckedGyroscope }}>
                            <label class="toggle-switch-label" for="gyroscope-toggle"></label>
                            Gyroscope
                        </label>
                    </div>

                    <br><br>

                    <button type="submit" class="pure-button">Update</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-6 col-m-12 col-sm-12">
        <div class="card">
            <div class="card-content">
                <form class="pure-form" method="POST" action="/atpro/test-email">
                    <h3><strong>Test Graph Email</strong></h3>

                    <label>Email to<br>
                        <div style="display: table; margin-left: auto; margin-right: auto;">
                            <div style="display: table-row;">
                                <div style="display: table-cell;">
                                    <input style="width: 350px;" type="email" maxlength="250"
                                           name="test_email_address" placeholder="someone@somewhere.com">
                                </div>
                            </div>
                        </div>
                    </label>

                    <br>

                    <button type="submit" class="pure-button" name="test_email_button" value="graphs">Send Email</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    jQuery('#select-all-checkboxes').change(function () {
        if (jQuery(this).prop('checked')) {
            jQuery("div[id=sensor-checkboxes] input:checkbox").prop('checked', true);
        } else {
            jQuery("div[id=sensor-checkboxes] input:checkbox").prop('checked', false);
        }
    });

    if (screen.width < 500) {
            document.getElementById('email-addresses-textarea').style.width = '350px';
        }
</script>
