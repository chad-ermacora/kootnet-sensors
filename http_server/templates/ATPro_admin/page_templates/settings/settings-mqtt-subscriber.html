<form class="pure-form" method="POST" action="/atpro/settings-mqtt-s">
    <div class="row">
        <div class="col-6 col-m-12 col-sm-12">
            <div class="counter bg-primary">
                <label class="toggle-switch">
                    <input type="checkbox" id="enable-mqtt-s-toggle-switch" class="toggle-switch-input"
                           name="enable_mqtt_subscriber" {{ MQTTSubscriberChecked }}>
                    <label class="toggle-switch-label" for="enable-mqtt-s-toggle-switch"></label>
                    Enable MQTT Subscriber
                </label>

                <br>

                <label class="toggle-switch">
                    <input type="checkbox" id="enable-mqtt-s-rec-toggle-switch" class="toggle-switch-input"
                           name="enable_mqtt_sql_recording" {{ MQTTSQLRecordingChecked }}>
                    <label class="toggle-switch-label" for="enable-mqtt-s-rec-toggle-switch"></label>
                    Save Readings to SQL Database
                </label>

                <h4>MQTT Subscriber Database Size: {{ MQTTSubDatabaseSize }} MB</h4>

                <button class="pure-button" type="button"
                        onclick="window.open('/atpro/mqtt-subscriber-sensors-list', '_blank');">
                    View MQTT Subscriber Sensors List
                </button>

                <br><br>

                <button class="pure-button" type="button"
                        onclick="window.open('/atpro/mqtt-subscriber-view-data-stream', '_blank');">
                    View Subscriber Data Stream
                </button>

                <br><br>

                <label>
                    Broker Address or IP<br>
                    <input style="width: 350px; text-align: center;" type="text" maxlength="250" name="sub_broker_address"
                           value="{{ MQTTBrokerAddress }}">
                </label>

                <br><br>

                <label>
                    Broker Port #<br>
                    <input style="width: 120px; text-align: center;" type="number" min="1" max="65535" name="sub_broker_port"
                           value="{{ MQTTBrokerPort }}">
                </label>

                <br><br>

                <label>
                    <a target="_blank" href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc385349264">
                        Quality of Service Level
                    </a><br>
                    <select name="mqtt_qos_level">
                        <option value=0 {{ MQTTQoSLevel0 }}>Level 0</option>
                        <option value=1 {{ MQTTQoSLevel1 }}>Level 1</option>
                        <option value=2 {{ MQTTQoSLevel2 }}>Level 2</option>
                    </select>
                </label>

                <br><br>

                <label class="toggle-switch">
                    <input type="checkbox" id="enable-mqtt-s-auth-toggle-switch" class="toggle-switch-input"
                           name="enable_broker_auth" {{ MQTTSubscriberAuthChecked }}>
                    <label class="toggle-switch-label" for="enable-mqtt-s-auth-toggle-switch"></label>
                    Enable MQTT Authentication
                </label>

                <br><br>

                <label>
                    Username<br>
                    <input style="width: 200px; text-align: center;" type="text" maxlength="250" name="broker_username"
                           value="{{ MQTTSubscriberUsername }}">
                </label>

                <br><br>

                <label>
                    Password (Optional)<br>
                    <input style="width: 200px; text-align: center;" type="text" maxlength="250" name="broker_password">
                </label>

                <br><br>

                <button type="submit" class="pure-button">Update</button>
            </div>
        </div>

        <div class="col-6 col-m-12 col-sm-12">
            <div class="counter bg-success">
                <label>
                    <a target="_blank"
                       href="https://docs.solace.com/Open-APIs-Protocols/MQTT/MQTT-Topics.htm">
                        MQTT Topics
                    </a>
                    <br><i>Add one or more Topics separated by a comma Eg. KS/Sensor1/Temp,KS/Sensor2/Temp</i><br><br>
                    <textarea name="subscriber_topics" cols="50" rows="20">{{ SubscriberTopics }}</textarea>
                </label>

                <br><br>

                <button type="submit" class="pure-button">Update</button>
            </div>
        </div>
    </div>
</form>
