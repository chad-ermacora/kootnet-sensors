<style>
    .osm-text-sensor-id-box {
        width: 200px;
    }
</style>

<div class="row">
    <div class="col-8 col-m-12 col-sm-12">
        <div class="counter bg-primary">
            <form class="pure-form" method="POST" action="/atpro/settings-osm">
                <label class="toggle-switch">
                    <input type="checkbox" id="enable-osm-toggle-switch" class="toggle-switch-input"
                           name="enable_open_sense_map" {{ CheckedOSMEnabled }}>
                    <label class="toggle-switch-label" for="enable-osm-toggle-switch"></label>
                    Enable Open Sense Map
                </label>

                <br><br>

                <label>
                    SenseBox ID<br>
                    <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="osm_station_id"
                           placeholder="Eg. 8d758b393536b3999a2167d7" value="{{ OSMStationID }}">
                </label>

                <br><br>

                <label>
                    Seconds between Updates<br>
                    <input style="width: 75px;" type="number" min="1" name="osm_interval"
                           value="{{ OSMIntervalSeconds }}">
                </label>

                <br><hr>

                <label class="toggle-switch">
                    <input type="checkbox" id="enable-osm-manual-toggle-switch" class="toggle-switch-input"
                           name="enable_osm_manual_sensor_ids" onclick="CheckOpenSenseMapIDs()">
                    <label class="toggle-switch-label" for="enable-osm-manual-toggle-switch"></label>
                    Manually Set Sensor IDs
                </label>

                <div class="row">
                    <label>
                        Temperature ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="env_temp_id"
                               placeholder="Eg. 8d758b393536b3999a2167d8" value="{{ OSMSEnvTempID }}">
                    </label>

                    &nbsp;

                    <label>
                        Pressure ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="pressure_id"
                               placeholder="Eg. 8d758b393536b3999a2167d9" value="{{ OSMPressureID }}">
                    </label>

                    &nbsp;

                    <label>
                        Altitude ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="altitude_id"
                               value="{{ OSMAltitudeID }}">
                    </label>

                    &nbsp;

                    <label>
                        Humidity ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="humidity_id"
                               value="{{ OSMHumidityID }}">
                    </label>

                    &nbsp;

                    <label>
                        Gas V.O.C<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="gas_index_id"
                               value="{{ OSMGasIndexID }}">
                    </label>

                    &nbsp;

                    <label>
                        Gas NH3 ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="gas_nh3_id"
                               value="{{ OSMGasNH3ID }}">
                    </label>

                    &nbsp;

                    <label>
                        Gas Oxidising ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64"
                               name="gas_oxidising_id" value="{{ OSMOxidisingID }}">
                    </label>

                    &nbsp;

                    <label>
                        Gas Reducing ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64"
                               name="gas_reducing_id" value="{{ OSMGasReducingID }}">
                    </label>

                    &nbsp;

                    <label>
                        PM1 ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="pm1_id"
                               value="{{ OSMPM1ID }}">
                    </label>

                    &nbsp;

                    <label>
                        PM2.5 ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="pm2_5_id"
                               value="{{ OSMPM25ID }}">
                    </label>

                    &nbsp;

                    <label>
                        PM4 ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="pm4_id"
                               value="{{ OSMPM4ID }}">
                    </label>

                    &nbsp;

                    <label>
                        PM10 ID<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="pm10_id"
                               value="{{ OSMPM10ID }}">
                    </label>

                    &nbsp;

                    <label>
                        Lumen<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="lumen_id"
                               value="{{ OSMLumenID }}">
                    </label>

                    &nbsp;

                    <label>
                        Red<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="red_id"
                               value="{{ OSMRedID }}">
                    </label>

                    &nbsp;

                    <label>
                        Orange<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="orange_id"
                               value="{{ OSMOrangeID }}">
                    </label>

                    &nbsp;

                    <label>
                        Yellow<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="yellow_id"
                               value="{{ OSMYellowID }}">
                    </label>

                    &nbsp;

                    <label>
                        Green<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="green_id"
                               value="{{ OSMGreenID }}">
                    </label>

                    &nbsp;

                    <label>
                        Blue<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="blue_id"
                               value="{{ OSMBlueID }}">
                    </label>

                    &nbsp;

                    <label>
                        Violet<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="violet_id"
                               value="{{ OSMVioletID }}">
                    </label>

                    &nbsp;

                    <label>
                        Ultra Violet Index<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="uv_index_id"
                               value="{{ OSMUVIndexID }}">
                    </label>

                    &nbsp;

                    <label>
                        Ultra Violet A<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="uv_a_id"
                               value="{{ OSMUVAID }}">
                    </label>

                    &nbsp;

                    <label>
                        Ultra Violet B<br>
                        <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="uv_b_id"
                               value="{{ OSMUVBID }}">
                    </label>
                </div>

                <br><br>

                <button type="submit" class="pure-button">Update</button>
            </form>
        </div>
    </div>

    <div class="col-4 col-m-12 col-sm-12">
        <div class="counter bg-success">
            <form class="pure-form" method="POST" action="/atpro/settings-osm-registration">
                <h3><u><strong><a style="color: white;" href="https://opensensemap.org/account" target="_blank">
                    Open Sense Map Sensor Registration
                </a></strong></u></h3>

                <p style="font-size: medium;"><b>
                    This will automatically setup the sensor on your Open Sense Map account.
                    You will need to get the SenseBox ID and Sensor IDs from your
                    Open Sense Map account and enter them in the other settings box.
                </b></p>

                <br><br>

                <label>
                    User Name<br>
                    <input class="osm-text-sensor-id-box" type="text" maxlength="128" name="osm_account_username"
                           placeholder="Eg. someone@company.com" value="{{ OSMAccountUserName }}"
                           {{OSMAccountUserName }} required>
                </label>

                <br><br>

                <label>
                    Password<br>
                    <input class="osm-text-sensor-id-box" type="password" maxlength="64" name="osm_account_password"
                           value="{{ OSMAccountPassword }}" {{OSMAccountPassword }} required>
                </label>

                <br><br>

                <label>
                    GroupTag (Optional)<br>
                    <input class="osm-text-sensor-id-box" type="text" maxlength="64" name="osm_grouptag">
                </label>

                <br><br>

                <label>
                    Location Coordinates<br>(Latitude, Longitude, Height in meters)<br>
                    <input class="osm-text-sensor-id-box" type="text" maxlength="128" name="osm_location_coordinates"
                           placeholder="Eg. 50.114739, -116.503914, 18.12" value="" required>
                </label>

                <br><br>

                <h3>Location Type</h3>
                <label class="pure-radio">
                    <input type="radio" name="osm_location_type" value="outdoor" checked>
                    Outdoors
                </label>
                <label class="pure-radio">
                    <input type="radio" name="osm_location_type" value="indoor">
                    Indoors
                </label>
                <label class="pure-radio">
                    <input type="radio" name="osm_location_type" value="mobile">
                    Mobile
                </label>
                <label class="pure-radio">
                    <input type="radio" name="osm_location_type" value="unknown">
                    Other
                </label>

                <br><br>

                <button type="submit" class="pure-button">Register Sensor</button>
            </form>
        </div>
    </div>
</div>

<script>
    function CheckOpenSenseMapIDs() {
        if (jQuery('#enable-osm-manual-toggle-switch').prop('checked')) {
            document.getElementsByName("env_temp_id")[0].disabled = false;
            document.getElementsByName("pressure_id")[0].disabled = false;
            document.getElementsByName("altitude_id")[0].disabled = false;
            document.getElementsByName("humidity_id")[0].disabled = false;
            document.getElementsByName("gas_index_id")[0].disabled = false;
            document.getElementsByName("gas_nh3_id")[0].disabled = false;
            document.getElementsByName("gas_oxidising_id")[0].disabled = false;
            document.getElementsByName("gas_reducing_id")[0].disabled = false;
            document.getElementsByName("pm1_id")[0].disabled = false;
            document.getElementsByName("pm2_5_id")[0].disabled = false;
            document.getElementsByName("pm4_id")[0].disabled = false;
            document.getElementsByName("pm10_id")[0].disabled = false;
            document.getElementsByName("lumen_id")[0].disabled = false;
            document.getElementsByName("red_id")[0].disabled = false;
            document.getElementsByName("orange_id")[0].disabled = false;
            document.getElementsByName("yellow_id")[0].disabled = false;
            document.getElementsByName("green_id")[0].disabled = false;
            document.getElementsByName("blue_id")[0].disabled = false;
            document.getElementsByName("violet_id")[0].disabled = false;
            document.getElementsByName("uv_index_id")[0].disabled = false;
            document.getElementsByName("uv_a_id")[0].disabled = false;
            document.getElementsByName("uv_b_id")[0].disabled = false;
        } else {
            document.getElementsByName("env_temp_id")[0].disabled = true;
            document.getElementsByName("pressure_id")[0].disabled = true;
            document.getElementsByName("altitude_id")[0].disabled = true;
            document.getElementsByName("humidity_id")[0].disabled = true;
            document.getElementsByName("gas_index_id")[0].disabled = true;
            document.getElementsByName("gas_nh3_id")[0].disabled = true;
            document.getElementsByName("gas_oxidising_id")[0].disabled = true;
            document.getElementsByName("gas_reducing_id")[0].disabled = true;
            document.getElementsByName("pm1_id")[0].disabled = true;
            document.getElementsByName("pm2_5_id")[0].disabled = true;
            document.getElementsByName("pm4_id")[0].disabled = true;
            document.getElementsByName("pm10_id")[0].disabled = true;
            document.getElementsByName("lumen_id")[0].disabled = true;
            document.getElementsByName("red_id")[0].disabled = true;
            document.getElementsByName("orange_id")[0].disabled = true;
            document.getElementsByName("yellow_id")[0].disabled = true;
            document.getElementsByName("green_id")[0].disabled = true;
            document.getElementsByName("blue_id")[0].disabled = true;
            document.getElementsByName("violet_id")[0].disabled = true;
            document.getElementsByName("uv_index_id")[0].disabled = true;
            document.getElementsByName("uv_a_id")[0].disabled = true;
            document.getElementsByName("uv_b_id")[0].disabled = true;
        }
    }
    CheckOpenSenseMapIDs();
</script>
