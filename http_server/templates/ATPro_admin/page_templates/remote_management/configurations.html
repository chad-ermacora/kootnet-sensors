<form class="pure-form" method="POST" action="/atpro/sensor-rm-push-config">
    <h2><i class="fas fa-cog"></i> Raw Configurations</h2>

    <label>
        Select Configuration<br>
        <select name="config_selection" id="config_selection" onchange="ConfigChange()">
            <option value="primary">Main</option>
            <option value="installed_sensors">Installed Sensors</option>
            <option value="display">Display</option>
            <option value="checkins">Checkins</option>
            <option value="interval_recording">Interval Recording</option>
            <option value="variance_trigger_recording">Variance Trigger Recording</option>
            <option value="high_low_recording">High/Low Trigger Recording</option>
            <option value="email">Email</option>
            <option value="wifi">wpa_supplicant.conf (Wifi)</option>
            <option value="network">dhcpcd.conf (Network)</option>
        </select>
    </label>

    <br><br>

    <label>
        Text Configuration<br>
        <textarea name="new_config_str" id="new_config_str" style="width: 550px; height: 450px;"></textarea>
    </label>

    <br><br>

    <button type="submit" class="pure-button">Send Configuration</button>
</form>

<script>
    function ConfigChange() {
        const primary_config = '{{ DefaultPrimaryText }}';
        const installed_sensors_config = '{{ DefaultInstalledSensorsText }}';
        const checkins_config = '{{ DefaultCheckinsText }}';
        const interval_rec_config = '{{ DefaultIntervalRecText }}';
        const variance_rec_config = '{{ DefaultVarianceRecText }}';
        const high_low_rec_config = '{{ DefaultHighLowRecText }}';
        const display_config = '{{ DefaultDisplayText }}';
        const email_config = '{{ DefaultEmailText }}';
        const wifi_config = '{{ DefaultWifiText }}';
        const network_config = '{{ DefaultNetworkText }}';

        let selected_value = document.getElementById('config_selection').value

        if (selected_value === 'primary') {
                document.getElementById('new_config_str').value = primary_config;
        } else if (selected_value === 'installed_sensors') {
                document.getElementById('new_config_str').value = installed_sensors_config;
        }  else if (selected_value === 'checkins') {
                document.getElementById('new_config_str').value = checkins_config;
        }  else if (selected_value === 'interval_recording') {
                document.getElementById('new_config_str').value = interval_rec_config;
        }  else if (selected_value === 'variance_trigger_recording') {
                document.getElementById('new_config_str').value = variance_rec_config;
        }  else if (selected_value === 'high_low_recording') {
                document.getElementById('new_config_str').value = high_low_rec_config;
        }  else if (selected_value === 'display') {
                document.getElementById('new_config_str').value = display_config;
        }  else if (selected_value === 'email') {
                document.getElementById('new_config_str').value = email_config;
        }  else if (selected_value === 'wifi') {
                document.getElementById('new_config_str').value = wifi_config;
        }  else if (selected_value === 'network') {
                document.getElementById('new_config_str').value = network_config;
        }

        if (screen.width < 500) {
            document.getElementById('new_config_str').style.width = '325px';
        }
    }
    ConfigChange();
</script>
