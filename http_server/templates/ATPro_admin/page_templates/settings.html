<link rel="stylesheet" type="text/css" href="/atpro/pure-horizontal-menu.css">

<style>
    input, form {
        display: inline-block;
    }

    .settings-page-view {
        display: inline-block;
        vertical-align: top;
        width: fit-content;
    }
</style>

<div>
    <div class="pure-menu">
        <ul class="pure-menu-list">
            <li class="pure-menu-item settings-main">
                <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-main')">
                    <i class="fas fa-clipboard-check"></i> Main
                </a>
            </li>
        </ul>
    </div>
    <div class="pure-menu">
        <ul class="pure-menu-list">
            <li class="pure-menu-item settings-is">
                <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-is')">
                    <i class="fas fa-microchip"></i> Installed Sensors
                </a>
            </li>
        </ul>
    </div>
    <div class="pure-menu">
        <ul class="pure-menu-list">
            <li class="pure-menu-item settings-display">
                <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-display')">
                    <i class="fas fa-tv"></i> Display
                </a>
            </li>
        </ul>
    </div>
    <div class="pure-menu">
        <ul class="pure-menu-list">
            <li class="pure-menu-item settings-cs">
                <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-cs')">
                    <i class="fas fa-satellite-dish"></i> Sensor Checkins
                </a>
            </li>
        </ul>
    </div>
    <div style="display: inline-block;">
        <div class="pure-menu pure-menu-horizontal">
            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover
                settings-interval settings-hl settings-variances">
                    <a style="cursor: default;" href="#" class="pure-menu-link">
                        <i class="fas fa-database"></i> SQL Recording
                    </a>
                    <ul class="pure-menu-children">
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-interval')">
                                Interval
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-hl')">
                                High/Low Triggers
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-variances')">
                                Variance Triggers
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div style="display: inline-block;">
        <div class="pure-menu pure-menu-horizontal">
            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover
                settings-email-reports settings-email-graphs settings-email-settings">
                    <a style="cursor: default;" href="#" class="pure-menu-link">
                        <i class="far fa-envelope"></i> Email
                    </a>
                    <ul class="pure-menu-children">
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-email-reports')">
                                Reports
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-email-graphs')">
                                Graphs
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-email-settings')">
                                SMTP Settings
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div style="display: inline-block;">
        <div class="pure-menu pure-menu-horizontal">
            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover
                 settings-mqtt-p settings-mqtt-s settings-mqtt-b">
                    <a style="cursor: default;" href="#" class="pure-menu-link">
                        <i class="fas fa-broadcast-tower"></i> MQTT
                    </a>
                    <ul class="pure-menu-children">
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-mqtt-p')">
                                Publisher
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-mqtt-s')">
                                Subscriber
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-mqtt-b')">
                                Broker
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div style="display: inline-block;">
        <div class="pure-menu pure-menu-horizontal">
            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover
                settings-osm settings-wu settings-luftdaten">
                    <a style="cursor: default;" href="#" class="pure-menu-link">
                        <i class="fas fa-plus-circle"></i> 3rd Party Services
                    </a>
                    <ul class="pure-menu-children">
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-osm')">
                                Open Sense Map
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link" onclick="SelectSettingsNav('settings-wu')">
                                Weather Underground
                            </a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="#" class="pure-menu-link"
                               onclick="SelectSettingsNav('settings-luftdaten')">
                                Luftdaten
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<hr><br>

<div id="settings-main">
    {{ MainSettings | safe }}
</div>

<div id="settings-is">
    {{ InstalledSensorsSettings | safe }}
</div>

<div id="settings-display">
    {{ DisplaySettings | safe }}
</div>

<div id="settings-cs">
    {{ CheckinsSettings | safe }}
</div>

<div id="settings-interval">
    {{ IntervalSettings | safe }}
</div>

<div id="settings-hl">
    {{ HighLowSettings | safe }}
</div>

<div id="settings-variances">
    {{ VariancesSettings | safe }}
</div>

<div id="settings-email-reports">
    {{ EmailReportsSettings | safe }}
</div>

<div id="settings-email-graphs">
    {{ EmailGraphSettings | safe }}
</div>

<div id="settings-email-settings">
    {{ EmailServerSettings | safe }}
</div>

<div id="settings-mqtt-p">
    {{ MQTTPubSettings | safe }}
</div>

<div id="settings-mqtt-s">
    {{ MQTTSubSettings | safe }}
</div>

<div id="settings-mqtt-b">
    {{ MQTTBrokerSettings | safe }}
</div>

<div id="settings-osm">
    {{ OSMSettings | safe }}
</div>

<div id="settings-wu">
    {{ WUSettings | safe }}
</div>

<div id="settings-luftdaten">
    {{ LuftdatenSettings | safe }}
</div>

<script>
    function SelectSettingsNav(nav_location) {
        document.getElementsByClassName("settings-main")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-is")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-interval")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-display")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-email-reports")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-cs")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-mqtt-p")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName("settings-osm")[0].classList.remove("pure-menu-selected");
        document.getElementsByClassName(nav_location)[0].classList.add("pure-menu-selected");

        document.getElementById("settings-main").hidden = true;
        document.getElementById("settings-is").hidden = true;
        document.getElementById("settings-display").hidden = true;
        document.getElementById("settings-cs").hidden = true;
        document.getElementById("settings-interval").hidden = true;
        document.getElementById("settings-hl").hidden = true;
        document.getElementById("settings-variances").hidden = true;
        document.getElementById("settings-email-reports").hidden = true;
        document.getElementById("settings-email-graphs").hidden = true;
        document.getElementById("settings-email-settings").hidden = true;
        document.getElementById("settings-mqtt-p").hidden = true;
        document.getElementById("settings-mqtt-s").hidden = true;
        document.getElementById("settings-mqtt-b").hidden = true;
        document.getElementById("settings-osm").hidden = true;
        document.getElementById("settings-wu").hidden = true;
        document.getElementById("settings-luftdaten").hidden = true;
        document.getElementById(nav_location).hidden = false;
    }

    {{ RunScript | safe }}
</script>

<script>
    CheckNotificationsAsync();
</script>
